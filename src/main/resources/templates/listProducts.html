<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
 xmlns:th="http://www.thymeleaf.org">
<head>
 <title>Home</title>
 <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css"/>
 <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
 <script src="https://code.jquery.com/jquery-1.11.1.min.js"></script>
 <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.0.0/css/font-awesome.min.css"/>
<!-- 
<script src="js/materialize.js" th:src="@{/js/angular.js}"/>


 <script src="js/materialize.js" th:src="@{/js/myApp.js}"/> 

 <script src="js/materialize.js" th:src="@{/js/productController.js}"/> -->
 <!-- Bootstrap Core CSS -->
<link th:href="@{/css/bootstrap.min.css}" rel="stylesheet"/>

<!-- Bootstrap Readable Theme -->
<link th:href="@{/css/bootstrap-readable-theme.css}" rel="stylesheet"/>


<!-- Bootstrap DataTables -->
<link th:href="@{/css/dataTables.bootstrap.css}" rel="stylesheet"/>

<!-- Custom CSS -->
<link th:href="@{/css/myapp.css}" rel="stylesheet"/>
 
 <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous"/>

<!-- jQuery -->
		<script th:src="@{/js/jquery.js}"  type="application/javascript"></script>

		<script th:src="@{/js/jquery.validate.js}"  type="application/javascript"></script>

		<!-- Bootstrap Core JavaScript -->    
		<script th:src="@{/js/bootstrap.min.js}" type="application/javascript"></script>
		
		<!-- DataTable Plugin -->
		<script th:src="@{/js/jquery.dataTables.js}" type="application/javascript"></script>
		
		<!-- DataTable Bootstrap Script -->
		<script th:src="@{/js/dataTables.bootstrap.js}" type="application/javascript"></script>
		
		<!-- DataTable Bootstrap Script -->
		<script th:src="@{/js/bootbox.min.js}" type="application/javascript"></script>
		
		<!-- Self coded javascript -->
		<script th:src="@{/js/myApp.js}"  type="application/javascript"></script>
<script   type="application/javascript">

$(document).ready(function(){


				
var $table =$('#productTable');
if($table.length){
 console.log('inside');
 
 var jsonUrl =  '/json/data/all/products';
		console.log(jsonUrl);
		
 
 
console.log(jsonUrl); 
 
 
 $table.DataTable({
 
 	lengthMenu : [[3,5,10,-1], ['3 Records','5 Records','10 Records' ,'All Records']],
 	pageLength: 5,
	ajax: {
	        url: jsonUrl,
	        dataSrc:''
	},
	columns:[
	
				{
				data:'name'
				
				},
				{
				data:'unitPrice'
				
				},
				{
				data:'quantity'
				
				}
	       ]
 
 });
 
 
 
 
 
}							


});

</script>

</head>
<body  >


<nav class="navbar navbar-expand-lg navbar-dark bg-primary">
  <a class="navbar-brand" href="#" th:utext="${userName}">Navbar</a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarColor01" aria-controls="navbarColor01" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  <div class="collapse navbar-collapse" id="navbarColor01">
    <ul class="navbar-nav mr-auto">
      <li class="nav-item">
        <a class="nav-link" href="#">Home <span class="sr-only">(current)</span></a>
      </li>

      <li class="nav-item">
        <a class="nav-link" href="#" th:href="@{/api/cart/show}">Cart <span class="sr-only">(current)</span></a>
      </li>

      <li class="nav-item"   sec:authorize="isAuthenticated()">
        <a class="nav-link" href="#"   th:href="@{/posts/create}" sec:authorize="hasAuthority('ADMIN')">Requests</a>
      </li>


      <li class="nav-item"   sec:authorize="isAuthenticated()">
        <a class="nav-link" href="#"   th:href="@{/admin/all/users}" sec:authorize="hasAuthority('USER')">Dashboard</a>
      </li>
   		
   
    </ul>
    
  <a class="nav-link" th:href="@{/logout}">Sign out</a>
     
  </div>
</nav>


<!--list product table-->


<div class="container">

	<div class="row">


		<!-- Would be to display sidebar -->
		<div class="col-md-3">


		</div>

		<!-- to display the actual products -->
		<div class="col-md-9">

			<!-- Added breadcrumb component -->
			<div class="row">

				<div class="col-lg-12">


					

				</div>


			</div>

			
			<div class="row">
			
				<div class="col-xs-12">
				
					
					<table id="productTable" class="table table-striped table-borderd">
					
					
						<thead>
						
							<tr>
								<th></th>
								<th>Name</th>
								<th>Price</th>
								<th>Qty. Available</th>
								<th></th>
							
							</tr>
						
						</thead>
					

						<tfoot>
						
							<tr>
								<th></th>
								<th>Name</th>
								<th>Price</th>
								<th>Qty. Available</th>
								<th></th>
							
							</tr>
						
						</tfoot>
					</table>
				
				</div>
			
			</div>


		</div>



	</div>






</div>
<!--list ends here-->
 
 
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
 		<!-- jQuery -->
		<script th:src="@{/js/jquery.js}"  type="application/javascript"></script>

		<script th:src="@{/js/jquery.validate.js}"  type="application/javascript"></script>

		<!-- Bootstrap Core JavaScript -->    
		<script th:src="@{/js/bootstrap.min.js}" type="application/javascript"></script>
		
		<!-- DataTable Plugin -->
		<script th:src="@{/js/jquery.dataTables.js}" type="application/javascript"></script>
		
		<!-- DataTable Bootstrap Script -->
		<script th:src="@{/js/dataTables.bootstrap.js}" type="application/javascript"></script>
		
		<!-- DataTable Bootstrap Script -->
		<script th:src="@{/js/bootbox.min.js}" type="application/javascript"></script>
		
		<!-- Self coded javascript -->
		<script th:src="@{/js/app.js}"  type="application/javascript"></script>
		
</body>
</html>